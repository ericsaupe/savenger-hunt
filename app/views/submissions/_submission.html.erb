<% animate = true if local_assigns[:animate].nil? %>

<turbo-frame class="w-1/2 <%= "animate__animated animate__tada" if animate %>" id="<%= dom_id submission %>">
  <div class="flex flex-wrap">
    <div class="w-1/6 md:w-1/12">
      <div class="mt-1.5 text-lg font-medium">
        <% if submission.photo.attached? %>
          <ion-icon name="checkbox"></ion-icon>
        <% else %>
          <ion-icon name="square-outline"></ion-icon>
        <% end %>
      </div>
    </div>
    <div class="w-5/6 md:w-11/12">
      <div class="mt-1 text-lg break-words">
        <% if submission.photo.attached? %>
          <%= submission.item.name %>
        <% else %>
          <% object_id = submission.object_id.to_s %>
          <%= form_with model: submission, html: { id: object_id } do |form| %>
            <%= form.hidden_field :item_id %>
            <%= form.hidden_field :team_id %>
            <%= form.label :photo, submission.item.name, for: "submission_#{object_id}", class: 'cursor-pointer' %>
            <%= form.file_field :photo, id: "submission_#{object_id}", class: 'hidden', accept: 'image/*,video/*', onchange: 'this.form.requestSubmit()' %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</turbo-frame>
