<%= form_with model: hunt, url: hunts_path, method: :post, data: { controller: 'form' }, class: "sm:w-1/2 mx-auto" do |f| %>
  <%= f.hidden_field :template, value: @hunt.name %>
  <%= f.hidden_field :timezone, data: { 'form-target': 'timezone' } %>

  <div class="form-control w-full">
    <%= f.label :name, class: "label" do %>
      <span class="label-text">What do you want to call your scavenger hunt?</span>
    <% end %>
    <%= f.text_field :name, required: true, class: "input input-bordered w-full" %>
  </div>

  <div class="form-control w-full">
    <%= f.label :starts_at, class: "label" do %>
      <span class="label-text">When do you want to start your scavenger hunt?</span>
      <span class="label-text-alt"><i>Optional</i></span>
    <% end %>
    <%= f.text_field :starts_at, class: "datetime input input-bordered w-full" %>
    <label class="label">
      <span class="label-text-alt">Set this if you don't want participants to submit photos until this date and time.</span>
    </label>
  </div>

  <div class="form-control w-full">
    <%= f.label :ends_at, class: "label" do %>
      <span class="label-text">When do you want to end your scavenger hunt?</span>
      <span class="label-text-alt"><i>Optional</i></span>
    <% end %>
    <%= f.text_field :ends_at, class: "datetime input input-bordered w-full", data: { action: "change->form#toggleEndFields" } %>
    <label class="label">
      <span class="label-text-alt">Set this if you you want to stop accepting submissions at this date and time.</span>
    </label>
  </div>

  <div class="form-control hidden" data-form-target="endConfig">
    <%= f.label :lock_results, class: "label cursor-pointer" do %>
      <span class="label-text">Lock results until after the hunt ends?</span>
      <%= f.check_box :lock_results, class: "checkbox", data: { test: "lock-results-switch" } %>
    <% end %>
  </div>

  <div class="form-control w-full hidden" data-form-target="endConfig">
    <%= f.label :lock_password, class: "label" do %>
      <span class="label-text">Lock results with a password</span>
      <span class="label-text-alt"><i>Optional</i></span>
    <% end %>
    <%= f.text_field :lock_password, class: "input input-bordered w-full" %>
    <label class="label">
      <span class="label-text-alt">If you want to require a one-time password be entered before people can see the results.</span>
    </label>
  </div>

  <%= f.button type: :submit, class: "btn btn-primary mt-4" do %>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
    </svg>
    Start!
  <% end %>
<% end %>
